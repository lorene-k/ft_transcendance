<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Transcendance</title>
    <link href="./styles/compiled.css" rel="stylesheet" />
    <style>
      /* Optional: smooth fade in/out for form */
      #myForm {
        transition: opacity 2s ease;
      }

      #myForm.hidden {
        opacity: 1;
        pointer-events: none;
      }
    </style>
  </head>

  <body class="bg-gray-100">
    <!-- Navigation -->
    <div class="flex flex-col gap-2 bg-gray-100 p-2 max-w-6xl mx-auto mt-8 h-[80vh]">
      <!-- Tournaments -->
      <div class="flex flex-row gap-4 shadow-sm basis-[10%]">
        <div class="flex bg-white h-full w-full rounded-xl title-style px-3 items-center">Tournaments</div>
      </div>

      <div class="flex flex-grow flex-row gap-4 bg-gray-100 overflow-hidden">
        <!-- Left chat history -->
          <div class="chat-card w-1/4 flex flex-col">
            <div class="flex items-center gap-8 basis-[10%] title-style h-12">All chats</div>
            <div id="all-messages" class="border-2 rounded-xl border-blue-600 basis-[90%] flex-grow overflow-auto"></div>
          </div>
      
        <!-- Middle chat area -->
        <div class="chat-card w-full flex flex-col">
          <!-- Header -->
          <div class="flex items-center gap-8 basis-[10%]">
            <img class="h-12 w-12 rounded-xl" src="./assets/default-icon.png" />
            <div id="recipient-name" class="title-style"></div>
          </div>
      
          <!-- Conversation window -->
          <div id="conversation-box" class="box-style flex-grow overflow-auto gap-4"></div>
      
          <!-- Input section -->
          <div class="basis-[10%] flex flex-row gap-2">
            <textarea id="msg-input" rows="1" class="box-style w-4/5" placeholder="Type message"></textarea>
            <button class="button-style w-1/5">Send</button>
          </div>
        </div>

        <!-- Right active users -->
        <div class="chat-card text-sm font-bold w-1/6 flex flex-col">
          <div class="flex items-center gap-8 basis-[10%] title-style h-12">Online</div>
          <div class="basis-[90%] flex-grow gap-4 overflow-auto">
          <!-- List of active users -->
            <ul id="user-list"></ul>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js" integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+" crossorigin="anonymous"></script>
    <script type="module" src="script/chat/chat.js"></script>
  </body>
</html>